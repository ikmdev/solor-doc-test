name: DocBook Build

run-name: DocBook Build -- ${{ github.event.inputs.module }} -- ${{github.ref_name || github.head_ref}} 

on:
#  push:
#  pull_request:
 workflow_dispatch:
  inputs:
    module:
      description: 'choose modules to build'
      required: true
      type: choice
      options:
        - book
        - volume1
        - volume2
        - volume3
        - volume4
        - volume5
        - volume6
        - volume7
        - volume8
        - volume9
        - volume10
        - volume11
        - volume12
        - volume13
        - volume14
        - volume15
        - volume16

  # env:
#   title: volume1-Introduction

jobs:
  build-job:
    name: Build Job -- ${{ github.event.inputs.module }}
    runs-on: ubuntu-24.04
    steps:
      - name: checkout repo
        uses: actions/checkout@v4

      - name: install java
        uses: actions/setup-java@v4
        with:
         distribution: 'zulu' # See 'Supported distributions' for available options
         java-version: '23'

      # - name: Build Project
      #   run: mvn clean install -U -D'maven.build.cache.enabled=false'


      - name: Build Selected Module -- ${{ github.event.inputs.module }}
        run: |
          echo "Building module: ${{ github.event.inputs.module }}"
          mvn clean install -U -D'maven.build.cache.enabled=false' -D'module-name=${{ github.event.inputs.module }}'/
          mvn clean install -U -D'maven.build.cache.enabled=false' -D'module-name=${{ ./github.event.inputs.module }}'
       
